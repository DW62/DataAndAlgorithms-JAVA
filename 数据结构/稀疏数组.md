# 稀疏sparsearray数组

[返回导航页](../README.md)

## 基本介绍

> 当一个数组中大部分元素为0时，或者大部分数据相同时，可以使用稀疏数组来来保存原数组.

![image-20220720191746042](https://raw.githubusercontent.com/DW62/ImgStg/master/image-20220720191746042.png)

>  转换后的稀疏数组第一行的数据为:  原始数组行数 	原始数组列数 	有效数据个数(值不为0或者不为多数相同数的个数)
>
> 转换后的稀疏数组的后面行数据为：		有效数据的行下标				有效数据的列下标		有效数据的值

## 实际案例

**将五子棋数据进行保存**

![image-20220720205825638](https://raw.githubusercontent.com/DW62/ImgStg/master/image-20220720205825638.png)

**实现思路:** 由于整个棋盘多数位置都为空可以看作数字0，黑色棋子可以看作数字1蓝色棋子可以看作数字2，如果直接使用二维数组来存储需要数组大小为9*9，多数空间值为0。所以可以将二维数组转化为稀疏数组来减少数组大小。

**实现代码:**

```java
/**
 * @Author DW  @Date 2022/7/20 21:07
 * 稀疏数组实现棋盘保存、存盘退出、复盘开始案例
 */
public class SparseArray {
    public static void main(String[] args) {
        //初始化棋盘
        int[][] chessArr = new int[9][9];
        //放置棋子
        chessArr[1][3] = 2;
        chessArr[7][7] = 2;
        chessArr[2][1] = 1;
        chessArr[3][3] = 1;
        System.out.println("初始化棋盘开始");
        for (int[] arr : chessArr) {
            for (int data : arr) {
                System.out.printf("%d\t", data);
            }
            System.out.println();
        }
        System.out.println("棋盘初始化完成");
        //转换为稀疏数组
        //定义计数器
        int count = 0;//有效数字个数
        //获取有效数个数
        for (int[] row : chessArr) {
            for (int data : row) {
                if (data != 0) {
                    count++;
                }
            }
        }
        //定义稀疏数组
        int[][] sparseArr = new int[count + 1][3];
        //给稀疏数组首行复值棋盘大小为9*9
        sparseArr[0][0] = 9;
        sparseArr[0][1] = 9;
        sparseArr[0][2] = count;
        //将有意义的数据存入稀疏数组
        int ar = 0;//记录第几个意义数据
        for (int i = 0; i < 9; i++) {
            for (int j = 0; j < 9; j++) {
                if (chessArr[i][j] != 0) {
                    ar++;
                    sparseArr[ar][0] = i;
                    sparseArr[ar][1] = j;
                    sparseArr[ar][2] = chessArr[i][j];
                }
            }
        }
        //打印稀疏数组
        for (int i = 0; i < count + 1; i++) {
            for (int j = 0; j < 3; j++) {
                System.out.printf("%d\t", sparseArr[i][j]);
            }
            System.out.println();
        }
        System.out.println("转换后的稀疏数组打印完成");
    }
}
```

**运行效果：**

![image-20220720223936871](https://raw.githubusercontent.com/DW62/ImgStg/master/image-20220720223936871.png)

稀疏数组恢复为普通数组：获取稀疏数组的` [0][0]和[0][1]`位置上的数据来创建普通数组，然后从稀疏数组的第二行开始遍历将值赋值给普通数组，既可以将稀疏数组转换为普通数组。

[返回导航页](../README.md)
